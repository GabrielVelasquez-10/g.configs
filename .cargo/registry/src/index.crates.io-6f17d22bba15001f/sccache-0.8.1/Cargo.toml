# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.70.0"
name = "sccache"
version = "0.8.1"
description = "Sccache is a ccache-like tool. It is used as a compiler wrapper and avoids compilation when possible. Sccache has the capability to utilize caching in remote storage environments, including various cloud storage options, or alternatively, in local storage."
readme = "README.md"
keywords = ["ccache"]
categories = [
    "command-line-utilities",
    "development-tools::build-utils",
]
license = "Apache-2.0"
repository = "https://github.com/mozilla/sccache/"

[profile.release]
lto = true
codegen-units = 1
strip = true

[[bin]]
name = "sccache"

[[bin]]
name = "sccache-dist"
required-features = ["dist-server"]

[dependencies.anyhow]
version = "1.0"
features = ["backtrace"]

[dependencies.ar]
version = "0.9"

[dependencies.async-trait]
version = "0.1"

[dependencies.base64]
version = "0.21"

[dependencies.bincode]
version = "1"

[dependencies.blake3]
version = "1"

[dependencies.byteorder]
version = "1.5"

[dependencies.bytes]
version = "1"

[dependencies.chrono]
version = "0.4"

[dependencies.clap]
version = "4.4.18"
features = [
    "derive",
    "env",
    "wrap_help",
]

[dependencies.directories]
version = "5.0.1"

[dependencies.encoding_rs]
version = "0.8"

[dependencies.env_logger]
version = "0.10"

[dependencies.filetime]
version = "0.2"

[dependencies.flate2]
version = "1.0"
features = ["rust_backend"]
optional = true
default-features = false

[dependencies.fs-err]
version = "2.11"

[dependencies.futures]
version = "0.3"

[dependencies.gzp]
version = "0.11.3"
features = ["deflate_rust"]
default-features = false

[dependencies.http]
version = "1.0"

[dependencies.http-body-util]
version = "0.1"
optional = true

[dependencies.hyper]
version = "1.1"
features = [
    "server",
    "http1",
]
optional = true

[dependencies.hyper-util]
version = "0.1.3"
features = [
    "tokio",
    "server",
]
optional = true

[dependencies.is-terminal]
version = "0.4.12"

[dependencies.jobserver]
version = "0.1"

[dependencies.jwt]
version = "9"
optional = true
package = "jsonwebtoken"

[dependencies.libc]
version = "0.2.153"

[dependencies.linked-hash-map]
version = "0.5"

[dependencies.log]
version = "0.4"

[dependencies.memchr]
version = "2"

[dependencies.memmap2]
version = "0.9.4"

[dependencies.mime]
version = "0.3"

[dependencies.nix]
version = "0.28.0"
features = [
    "mount",
    "user",
    "sched",
    "signal",
    "process",
]
optional = true

[dependencies.num_cpus]
version = "1.16"

[dependencies.number_prefix]
version = "0.4"

[dependencies.object]
version = "0.32"

[dependencies.once_cell]
version = "1.19"

[dependencies.opendal]
version = "0.45.1"
optional = true
default-features = false

[dependencies.openssl]
version = "0.10.64"
optional = true

[dependencies.rand]
version = "0.8.4"

[dependencies.regex]
version = "1.10.3"

[dependencies.reqsign]
version = "0.14.7"
optional = true

[dependencies.reqwest]
version = "0.11"
features = [
    "json",
    "blocking",
    "stream",
    "rustls-tls",
    "rustls-tls-native-roots",
    "trust-dns",
]
optional = true

[dependencies.retry]
version = "2"

[dependencies.rouille]
version = "3.6"
features = ["ssl"]
optional = true
default-features = false

[dependencies.semver]
version = "1.0"

[dependencies.serde]
version = "1.0"
features = ["derive"]

[dependencies.serde_json]
version = "1.0"

[dependencies.sha2]
version = "0.10.8"
optional = true

[dependencies.strip-ansi-escapes]
version = "0.2"

[dependencies.syslog]
version = "6"
optional = true

[dependencies.tar]
version = "0.4.40"

[dependencies.tempfile]
version = "3"

[dependencies.tokio]
version = "1"
features = [
    "rt-multi-thread",
    "io-util",
    "time",
    "net",
    "process",
    "macros",
]

[dependencies.tokio-serde]
version = "0.8"

[dependencies.tokio-util]
version = "0.7"
features = [
    "codec",
    "io",
]

[dependencies.toml]
version = "0.8"

[dependencies.tower]
version = "0.4"

[dependencies.url]
version = "2"
optional = true

[dependencies.uuid]
version = "1.7"
features = ["v4"]

[dependencies.version-compare]
version = "0.1.1"
optional = true

[dependencies.walkdir]
version = "2"

[dependencies.which]
version = "6"
default-features = false

[dependencies.zip]
version = "0.6"
default-features = false

[dependencies.zstd]
version = "0.13"

[dev-dependencies.assert_cmd]
version = "2.0.13"

[dev-dependencies.cc]
version = "1.0"

[dev-dependencies.chrono]
version = "0.4.33"

[dev-dependencies.filetime]
version = "0.2"

[dev-dependencies.itertools]
version = "0.12"

[dev-dependencies.predicates]
version = "=3.1.0"

[dev-dependencies.serial_test]
version = "3.1"

[dev-dependencies.temp-env]
version = "0.3.6"

[dev-dependencies.test-case]
version = "3.3.1"

[dev-dependencies.thirtyfour_sync]
version = "0.27"

[features]
all = [
    "dist-client",
    "redis",
    "s3",
    "memcached",
    "gcs",
    "azure",
    "gha",
    "webdav",
    "oss",
]
azure = [
    "opendal/services-azblob",
    "reqsign",
]
default = ["all"]
dist-client = [
    "flate2",
    "hyper",
    "http-body-util",
    "hyper-util",
    "reqwest",
    "url",
    "sha2",
]
dist-server = [
    "jwt",
    "flate2",
    "libmount",
    "nix",
    "openssl",
    "reqwest",
    "rouille",
    "syslog",
    "version-compare",
]
dist-tests = [
    "dist-client",
    "dist-server",
]
gcs = [
    "opendal/services-gcs",
    "reqsign",
    "url",
    "reqwest/blocking",
]
gha = ["opendal/services-ghac"]
memcached = ["opendal/services-memcached"]
native-zlib = []
oss = [
    "opendal/services-oss",
    "reqsign",
]
redis = [
    "url",
    "opendal/services-redis",
]
s3 = [
    "opendal/services-s3",
    "reqsign",
    "reqwest",
]
unstable = []
vendored-openssl = [
    "openssl?/vendored",
    "opendal?/native-tls-vendored",
]
webdav = ["opendal/services-webdav"]

[target."cfg(not(target_os = \"freebsd\"))".dependencies.libmount]
version = "0.1.15"
optional = true

[target."cfg(unix)".dependencies.daemonize]
version = "0.5"

[target."cfg(windows)".dependencies.winapi]
version = "0.3"
features = [
    "fileapi",
    "handleapi",
    "stringapiset",
    "winnls",
    "processenv",
    "std",
]
